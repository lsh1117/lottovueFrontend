<template>
	<div class="HomeView">
		<!-- κ΄‘κ³  μμ—­ (Free Planλ§ ν‘μ‹) -->
		<section v-if="isFreePlan" class="section section-area adsense-section">
			<AdSense 
				ad-slot="4776127952"
				ad-format="auto"
				container-class="home-adsense"
			/>
		</section>
		<!-- νμ–΄λ΅ μ„Ήμ…: λ΅λλ·° μ†κ° -->
		<section class="section section-area hero-section">
			<div class="section-header">
				<h1 class="hero-title">λ΅λλ·°</h1>
				<p class="hero-subtitle">μ¤λ§νΈν• λ΅λ λ²νΈ λ¶„μ„κ³Ό λ¶„μ„ μ„λΉ„μ¤</p>
				<p class="hero-description">
					λ΅λλ·°λ” ν†µκ³„ κΈ°λ° λ¶„μ„κ³Ό AI λ¶„μ„ κΈ°λ¥μ„ ν†µν•΄<br>
					λ” λ‚μ€ λ΅λ λ²νΈ μ„ νƒμ„ λ„μ™€λ“λ¦½λ‹λ‹¤.
				</p>
			</div>
		</section>

		<!-- μ£Όμ” κΈ°λ¥ μ†κ° -->
		<section class="section section-area features-section">
			<div class="section-header">
				<h2 class="title-big">μ£Όμ” κΈ°λ¥</h2>
			</div>
			<div class="section-body">
				<div class="features-grid">
					<div class="feature-card">
						<div class="feature-icon">π“</div>
						<h3 class="feature-title">ν†µκ³„ λ¶„μ„</h3>
						<p class="feature-description">
							κ³Όκ±° λ‹Ήμ²¨ λ²νΈλ¥Ό κΈ°λ°μΌλ΅ ν•<br>
							λ‹¤μ–‘ν• ν†µκ³„ λ¶„μ„ μ κ³µ
						</p>
					</div>
					<div class="feature-card">
						<div class="feature-icon">π¤–</div>
						<h3 class="feature-title">AI λ¶„μ„</h3>
						<p class="feature-description">
							ν†µκ³„ κΈ°λ° AI λ¶„μ„μ„ ν†µν•<br>
							μ¤λ§νΈν• λ²νΈ λ¶„μ„
						</p>
					</div>
					<div class="feature-card">
						<div class="feature-icon">π’Ύ</div>
						<h3 class="feature-title">λ²νΈ μ €μ¥</h3>
						<p class="feature-description">
							μƒμ„±ν• λ²νΈλ¥Ό μ €μ¥ν•κ³ <br>
							κ΄€λ¦¬ν•  μ μμµλ‹λ‹¤
						</p>
					</div>
					<div class="feature-card">
						<div class="feature-icon">π―</div>
						<h3 class="feature-title">λ‹Ήμ²¨ κ²°κ³Ό ν™•μΈ</h3>
						<p class="feature-description">
							μµμ‹  λ‹Ήμ²¨ κ²°κ³Όλ¥Ό ν™•μΈν•κ³ <br>
							λ‚΄ λ²νΈμ™€ λΉ„κµν•΄λ³΄μ„Έμ”
						</p>
					</div>
				</div>
			</div>
		</section>

		<!-- μ λ£ Plan μ†κ° 
		<PlansSection 
			@plan-upgrade="goToPlanUpgrade"
			@credit-purchase="goToCreditPurchase"
		/>
		-->
	</div>
</template>

<script setup>
	import { computed } from "vue";
	import { useRouter } from "vue-router";
	import AdSense from "@/components/cmm/AdSense.vue";
	import PlansSection from "@/components/home/PlansSection.vue";
	import { getUser } from '@/utils/auth';

	const router = useRouter();
	
	// Free Plan μ—¬λ¶€ ν™•μΈ (Pro, Max ν”λμ€ κ΄‘κ³  λ―Έν‘μ‹)
	const isFreePlan = computed(() => {
		const user = getUser();
		return !user || !user.plan || user.plan === 'free';
	});

	function goToPlanUpgrade() {
		router.push('/plan-upgrade');
	}

	function goToCreditPurchase() {
		router.push('/credit-purchase');
	}
</script>
